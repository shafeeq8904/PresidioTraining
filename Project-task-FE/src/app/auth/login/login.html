<div class="login-wrapper">
  <div class="task-heading">Task Management Application</div>

  <div class="login-left">
    <div class="login-box">
      <h2>Welcome Back</h2>
      <p>Please enter your details to log in</p>

      <div *ngIf="errorMessage" class="error-box">
        {{ errorMessage }}
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label>Email Address</label>
          <input type="email" formControlName="email" placeholder="shafeeq@gmail.com" />
          <div class="error" *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.invalid">
            <div *ngIf="loginForm.get('email')?.hasError('required')">Email is required.</div>
            <div *ngIf="loginForm.get('email')?.hasError('email')">Enter a valid email.</div>
        </div>
        </div>

        <div class="form-group">
          <label>Password</label>
          <div class="password-input">
            <input
              [type]="showPassword ? 'text' : 'password'"
              formControlName="password"
              placeholder="Please enter your password" />
            <span class="toggle" (click)="showPassword = !showPassword">
              {{ showPassword ? '🙈' : '👁️' }}
            </span>
            <div class="error" *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.invalid">
              <div *ngIf="loginForm.get('password')?.hasError('required')">Password is required.</div>
            </div>
          </div>
        </div>

        <button type="submit" [disabled]="loginForm.invalid || loading">
            {{ loading ? 'Logging in...' : 'LOGIN' }}
        </button>

        
      </form>
    </div>
  </div>

  <div class="login-right">
    <img
      src="https://img.freepik.com/free-vector/accounting-concept-illustration_114360-23749.jpg"
      alt="Task Preview" />
  </div>
</div>
